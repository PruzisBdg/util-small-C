/*---------------------------------------------------------------------------
|
|--------------------------------------------------------------------------*/

#include "libs_support.h"
#include "util.h"

/*-----------------------------------------------------------------------------------------
|
|  NumBitsSet_U32() - See SWAR32() for faster.
|
------------------------------------------------------------------------------------------*/

PUBLIC U8 NumBitsSet_U32(U32 n)
{
   U8 c, cnt;

   for( cnt = 0, c = 8 * sizeof(U32); c; c-- ) {
      if( n & 0x01 ) cnt++;
      n >>= 1;
      }
   return cnt;
}


#if 0
// To be TDDed.

/*-----------------------------------------------------------------------------------------
|
|  NumBitsSet_U32(), by Kernighan’s method - See SWAR32() for faster.
|
------------------------------------------------------------------------------------------*/

PUBLIC U8 NumBitsSet_U32(U32 n)
{
    // `cnt` stores the total bits set in `n`
    U8 cnt = 0;

    while (n)
    {
        n = n & (n - 1);    // clear the least significant bit set
        cnt++;              // and count it.
    }

    return cnt;
}
#endif

// --------------------- eof --------------------------------  -
